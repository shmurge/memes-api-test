{"uid":"b09d8153fba89adf","name":"Статус 400, если поле tags не список","fullName":"tests.test_memes_endpoints.TestMemesEndpoints#test_400_on_update_meme_with_invalid_tags_format","historyId":"44af810b76c01ec8aa47b688c05b9541","time":{"start":1766656013090,"stop":1766656013391,"duration":301},"status":"failed","statusMessage":"AssertionError: Статус-код 200\n{'id': '247', 'info': {'names': ['Luis Payne', 'Corey Hernandez', 'Andrew Massey'], 'phone_numbers': ['412.946.1261x7681', '(496)559-3424', '(986)352-7316x334']}, 'tags': ['wert', 234.56], 'text': 'Commercial sit far. Attack yourself fall just movie instead. Choose guy face.\\nNice near name much. Single word ahead song officer reflect another.\\nHow beat collection.', 'updated_by': 'Aleksei Mishin', 'url': 'http://grimes.com/'}","statusTrace":"self = <test_memes_endpoints.TestMemesEndpoints object at 0x7f86a6607610>\npre_create_and_delete_meme = ResponseMemeModel(id=247, info={'colors': ['#7db5d8', '#bcd653'], 'names': ['Roger Silva', 'Tyler Landry']}, tags=['Or...Behind poor southern behavior. Treat skin feel seem.', updated_by='Aleksei Mishin', url='http://www.bryant-ruiz.info/')\ntags = ('wert', 234.56)\n\n    @allure.feature('Изменение мема')\n    @allure.title('Статус 400, если поле tags не список')\n    @pytest.mark.medium\n    @pytest.mark.parametrize('tags', [1234, 463.465, 'this is string', ('wert', 234.56), {'key': 'value'}, None])\n    def test_400_on_update_meme_with_invalid_tags_format(self, pre_create_and_delete_meme, tags):\n        meme_id = pre_create_and_delete_meme.id\n        model = payload.update_meme(meme_id)\n        model.tags = tags\n    \n>       self.memes_api.update_meme_with_invalid_payload(meme_id, model)\n\ntests/test_memes_endpoints.py:73: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \napi_client/memes_api/memes_api.py:67: in update_meme_with_invalid_payload\n    self.base_assertions.check_status_code_is_400(resp)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nresponse = <Response [200]>\n\n    @staticmethod\n    def check_status_code_is_400(response):\n        with allure.step('Статус-код 400'):\n>           assert 400 == response.status_code, (f\"Статус-код {response.status_code}\\n\"\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n                                                 f\"{response.json()}\")\nE           AssertionError: Статус-код 200\nE           {'id': '247', 'info': {'names': ['Luis Payne', 'Corey Hernandez', 'Andrew Massey'], 'phone_numbers': ['412.946.1261x7681', '(496)559-3424', '(986)352-7316x334']}, 'tags': ['wert', 234.56], 'text': 'Commercial sit far. Attack yourself fall just movie instead. Choose guy face.\\nNice near name much. Single word ahead song officer reflect another.\\nHow beat collection.', 'updated_by': 'Aleksei Mishin', 'url': 'http://grimes.com/'}\n\nassertions/base_assertions.py:15: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1766656005427,"stop":1766656005429,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"check_token","time":{"start":1766656005429,"stop":1766656005764,"duration":335},"status":"passed","steps":[{"name":"Проверка апи токена","time":{"start":1766656005429,"stop":1766656005763,"duration":334},"status":"passed","steps":[{"name":"Проверка состояния токена","time":{"start":1766656005430,"stop":1766656005763,"duration":333},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0}],"attachments":[],"parameters":[],"hasContent":true,"attachmentStep":false,"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0}],"attachments":[],"parameters":[],"hasContent":true,"attachmentStep":false,"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"_xunit_setup_method_fixture_TestMemesEndpoints","time":{"start":1766656012798,"stop":1766656012799,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"pre_create_and_delete_meme","time":{"start":1766656012799,"stop":1766656013089,"duration":290},"status":"passed","steps":[{"name":"Создать мем","time":{"start":1766656012799,"stop":1766656013089,"duration":290},"status":"passed","steps":[{"name":"Статус-код 200","time":{"start":1766656013089,"stop":1766656013089,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"Проверка данных мема","time":{"start":1766656013089,"stop":1766656013089,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0}],"attachments":[{"uid":"469fb9b517b2b356","name":"API Response","source":"469fb9b517b2b356.json","type":"application/json","size":494}],"parameters":[],"hasContent":true,"attachmentStep":false,"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":1}],"attachments":[],"parameters":[],"hasContent":true,"attachmentStep":false,"stepsCount":3,"shouldDisplayMessage":false,"attachmentsCount":1}],"testStage":{"status":"failed","statusMessage":"AssertionError: Статус-код 200\n{'id': '247', 'info': {'names': ['Luis Payne', 'Corey Hernandez', 'Andrew Massey'], 'phone_numbers': ['412.946.1261x7681', '(496)559-3424', '(986)352-7316x334']}, 'tags': ['wert', 234.56], 'text': 'Commercial sit far. Attack yourself fall just movie instead. Choose guy face.\\nNice near name much. Single word ahead song officer reflect another.\\nHow beat collection.', 'updated_by': 'Aleksei Mishin', 'url': 'http://grimes.com/'}","statusTrace":"self = <test_memes_endpoints.TestMemesEndpoints object at 0x7f86a6607610>\npre_create_and_delete_meme = ResponseMemeModel(id=247, info={'colors': ['#7db5d8', '#bcd653'], 'names': ['Roger Silva', 'Tyler Landry']}, tags=['Or...Behind poor southern behavior. Treat skin feel seem.', updated_by='Aleksei Mishin', url='http://www.bryant-ruiz.info/')\ntags = ('wert', 234.56)\n\n    @allure.feature('Изменение мема')\n    @allure.title('Статус 400, если поле tags не список')\n    @pytest.mark.medium\n    @pytest.mark.parametrize('tags', [1234, 463.465, 'this is string', ('wert', 234.56), {'key': 'value'}, None])\n    def test_400_on_update_meme_with_invalid_tags_format(self, pre_create_and_delete_meme, tags):\n        meme_id = pre_create_and_delete_meme.id\n        model = payload.update_meme(meme_id)\n        model.tags = tags\n    \n>       self.memes_api.update_meme_with_invalid_payload(meme_id, model)\n\ntests/test_memes_endpoints.py:73: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \napi_client/memes_api/memes_api.py:67: in update_meme_with_invalid_payload\n    self.base_assertions.check_status_code_is_400(resp)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nresponse = <Response [200]>\n\n    @staticmethod\n    def check_status_code_is_400(response):\n        with allure.step('Статус-код 400'):\n>           assert 400 == response.status_code, (f\"Статус-код {response.status_code}\\n\"\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n                                                 f\"{response.json()}\")\nE           AssertionError: Статус-код 200\nE           {'id': '247', 'info': {'names': ['Luis Payne', 'Corey Hernandez', 'Andrew Massey'], 'phone_numbers': ['412.946.1261x7681', '(496)559-3424', '(986)352-7316x334']}, 'tags': ['wert', 234.56], 'text': 'Commercial sit far. Attack yourself fall just movie instead. Choose guy face.\\nNice near name much. Single word ahead song officer reflect another.\\nHow beat collection.', 'updated_by': 'Aleksei Mishin', 'url': 'http://grimes.com/'}\n\nassertions/base_assertions.py:15: AssertionError","steps":[{"name":"Создать мем с невалидным пэйлоудом","time":{"start":1766656013091,"stop":1766656013390,"duration":299},"status":"failed","statusMessage":"AssertionError: Статус-код 200\n{'id': '247', 'info': {'names': ['Luis Payne', 'Corey Hernandez', 'Andrew Massey'], 'phone_numbers': ['412.946.1261x7681', '(496)559-3424', '(986)352-7316x334']}, 'tags': ['wert', 234.56], 'text': 'Commercial sit far. Attack yourself fall just movie instead. Choose guy face.\\nNice near name much. Single word ahead song officer reflect another.\\nHow beat collection.', 'updated_by': 'Aleksei Mishin', 'url': 'http://grimes.com/'}\n","statusTrace":"  File \"/usr/workspace/api_client/memes_api/memes_api.py\", line 67, in update_meme_with_invalid_payload\n    self.base_assertions.check_status_code_is_400(resp)\n  File \"/usr/workspace/assertions/base_assertions.py\", line 15, in check_status_code_is_400\n    assert 400 == response.status_code, (f\"Статус-код {response.status_code}\\n\"\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[{"name":"Статус-код 400","time":{"start":1766656013390,"stop":1766656013390,"duration":0},"status":"failed","statusMessage":"AssertionError: Статус-код 200\n{'id': '247', 'info': {'names': ['Luis Payne', 'Corey Hernandez', 'Andrew Massey'], 'phone_numbers': ['412.946.1261x7681', '(496)559-3424', '(986)352-7316x334']}, 'tags': ['wert', 234.56], 'text': 'Commercial sit far. Attack yourself fall just movie instead. Choose guy face.\\nNice near name much. Single word ahead song officer reflect another.\\nHow beat collection.', 'updated_by': 'Aleksei Mishin', 'url': 'http://grimes.com/'}\n","statusTrace":"  File \"/usr/workspace/assertions/base_assertions.py\", line 15, in check_status_code_is_400\n    assert 400 == response.status_code, (f\"Статус-код {response.status_code}\\n\"\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[],"attachments":[],"parameters":[],"hasContent":true,"attachmentStep":false,"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0}],"attachments":[],"parameters":[],"hasContent":true,"attachmentStep":false,"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0}],"attachments":[],"parameters":[],"hasContent":true,"attachmentStep":false,"stepsCount":2,"shouldDisplayMessage":true,"attachmentsCount":0},"afterStages":[{"name":"pre_create_and_delete_meme::0","time":{"start":1766656013398,"stop":1766656013694,"duration":296},"status":"passed","steps":[{"name":"Удалить мем с id: 247","time":{"start":1766656013399,"stop":1766656013694,"duration":295},"status":"passed","steps":[{"name":"Статус-код 200","time":{"start":1766656013693,"stop":1766656013693,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"Отображается сообщение об успешном удалении мема","time":{"start":1766656013693,"stop":1766656013693,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0}],"attachments":[{"uid":"90010006c4238c21","name":"API Response","source":"90010006c4238c21.json","type":"application/json","size":39}],"parameters":[],"hasContent":true,"attachmentStep":false,"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":1}],"attachments":[],"parameters":[],"hasContent":true,"attachmentStep":false,"stepsCount":3,"shouldDisplayMessage":false,"attachmentsCount":1},{"name":"_xunit_setup_method_fixture_TestMemesEndpoints::0","time":{"start":1766656013694,"stop":1766656013694,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0}],"labels":[{"name":"story","value":"Эндпоинт тесты"},{"name":"suite","value":"Мемы"},{"name":"feature","value":"Изменение мема"},{"name":"tag","value":"medium"},{"name":"parentSuite","value":"tests"},{"name":"subSuite","value":"TestMemesEndpoints"},{"name":"host","value":"7461769141ab"},{"name":"thread","value":"12-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_memes_endpoints"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"tags","value":"('wert', 234.56)"}],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["medium"]},"source":"b09d8153fba89adf.json","parameterValues":["('wert', 234.56)"]}