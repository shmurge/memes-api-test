{"uid":"57d2980079d823c0","name":"Статус 400 при отправке невалидных кредов","fullName":"tests.test_memes_endpoints.TestMemesEndpoints#test_400_on_authorization_with_invalid_data","historyId":"89f1227e2dc45fcf1ca0f4c64eb52c96","time":{"start":1768376935472,"stop":1768376935946,"duration":474},"status":"failed","statusMessage":"AssertionError: Статус-код 200\n{'token': 'XHJVBVcBUKjFqgJ', 'user': ''}","statusTrace":"self = <test_memes_endpoints.TestMemesEndpoints object at 0x7f94a30b8150>\nusername = RequestAuthorizationModel(name='')\n\n    @allure.feature('Безопасность')\n    @allure.title('Статус 400 при отправке невалидных кредов')\n    @pytest.mark.high\n    @pytest.mark.parametrize('username', auth_payload.invalid_usernames)\n    def test_400_on_authorization_with_invalid_data(self, username):\n>       self.base_api.auth_with_invalid_data(username)\n\ntests/test_memes_endpoints.py:26: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \napi_client/base_api.py:47: in auth_with_invalid_data\n    self.base_assertions.check_status_code_is_400(resp)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nresponse = <Response [200]>\n\n    @staticmethod\n    def check_status_code_is_400(response):\n        with allure.step('Статус-код 400'):\n>           assert 400 == response.status_code, (f\"Статус-код {response.status_code}\\n\"\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n                                                 f\"{response.json()}\")\nE           AssertionError: Статус-код 200\nE           {'token': 'XHJVBVcBUKjFqgJ', 'user': ''}\n\nassertions/base_assertions.py:15: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":3,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1768376933898,"stop":1768376933900,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"check_token","time":{"start":1768376933900,"stop":1768376934282,"duration":382},"status":"passed","steps":[{"name":"Проверка апи токена","time":{"start":1768376933900,"stop":1768376934282,"duration":382},"status":"passed","steps":[{"name":"Проверка состояния токена","time":{"start":1768376933901,"stop":1768376934282,"duration":381},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":2,"hasContent":true,"attachmentStep":false},{"name":"_xunit_setup_method_fixture_TestMemesEndpoints","time":{"start":1768376935472,"stop":1768376935472,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: Статус-код 200\n{'token': 'XHJVBVcBUKjFqgJ', 'user': ''}","statusTrace":"self = <test_memes_endpoints.TestMemesEndpoints object at 0x7f94a30b8150>\nusername = RequestAuthorizationModel(name='')\n\n    @allure.feature('Безопасность')\n    @allure.title('Статус 400 при отправке невалидных кредов')\n    @pytest.mark.high\n    @pytest.mark.parametrize('username', auth_payload.invalid_usernames)\n    def test_400_on_authorization_with_invalid_data(self, username):\n>       self.base_api.auth_with_invalid_data(username)\n\ntests/test_memes_endpoints.py:26: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \napi_client/base_api.py:47: in auth_with_invalid_data\n    self.base_assertions.check_status_code_is_400(resp)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nresponse = <Response [200]>\n\n    @staticmethod\n    def check_status_code_is_400(response):\n        with allure.step('Статус-код 400'):\n>           assert 400 == response.status_code, (f\"Статус-код {response.status_code}\\n\"\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n                                                 f\"{response.json()}\")\nE           AssertionError: Статус-код 200\nE           {'token': 'XHJVBVcBUKjFqgJ', 'user': ''}\n\nassertions/base_assertions.py:15: AssertionError","steps":[{"name":"Авторизация с невалидными кредами","time":{"start":1768376935472,"stop":1768376935945,"duration":473},"status":"failed","statusMessage":"AssertionError: Статус-код 200\n{'token': 'XHJVBVcBUKjFqgJ', 'user': ''}\n","statusTrace":"  File \"/usr/workspace/api_client/base_api.py\", line 47, in auth_with_invalid_data\n    self.base_assertions.check_status_code_is_400(resp)\n  File \"/usr/workspace/assertions/base_assertions.py\", line 15, in check_status_code_is_400\n    assert 400 == response.status_code, (f\"Статус-код {response.status_code}\\n\"\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[{"name":"Статус-код 400","time":{"start":1768376935945,"stop":1768376935945,"duration":0},"status":"failed","statusMessage":"AssertionError: Статус-код 200\n{'token': 'XHJVBVcBUKjFqgJ', 'user': ''}\n","statusTrace":"  File \"/usr/workspace/assertions/base_assertions.py\", line 15, in check_status_code_is_400\n    assert 400 == response.status_code, (f\"Статус-код {response.status_code}\\n\"\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"attachmentsCount":0,"stepsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"attachmentsCount":0,"stepsCount":2,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"_xunit_setup_method_fixture_TestMemesEndpoints::0","time":{"start":1768376935952,"stop":1768376935952,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"suite","value":"Мемы"},{"name":"feature","value":"Безопасность"},{"name":"story","value":"Эндпоинт тесты"},{"name":"tag","value":"high"},{"name":"parentSuite","value":"tests"},{"name":"subSuite","value":"TestMemesEndpoints"},{"name":"host","value":"654aec01ae01"},{"name":"thread","value":"18-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_memes_endpoints"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"username","value":"RequestAuthorizationModel(name='')"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"a17298a09cf1931a","status":"failed","statusDetails":"AssertionError: Статус-код 200\n{'token': 'uoV0y94NfStp26S', 'user': ''}","time":{"start":1768376935121,"stop":1768376935463,"duration":342}},{"uid":"6d23d019848ced67","status":"failed","statusDetails":"AssertionError: Статус-код 200\n{'token': '5ioOOcRzryOaHLD', 'user': ''}","time":{"start":1768376934651,"stop":1768376935111,"duration":460}},{"uid":"5ac309507b2b203f","status":"failed","statusDetails":"AssertionError: Статус-код 200\n{'token': 'mJ0DiJT1S3DTTzN', 'user': ''}","time":{"start":1768376934283,"stop":1768376934609,"duration":326}}],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":9,"broken":0,"skipped":0,"passed":0,"unknown":0,"total":9},"items":[{"uid":"a930e3d98b8abb0b","status":"failed","statusDetails":"AssertionError: Статус-код 200\n{'token': 'hnNY4NWD9aaJLUn', 'user': ''}","time":{"start":1768318565221,"stop":1768318565551,"duration":330}},{"uid":"26c204309b1d7fd4","status":"failed","statusDetails":"AssertionError: Статус-код 200\n{'token': '22f39DhachuBElK', 'user': ''}","time":{"start":1767626699025,"stop":1767626699379,"duration":354}},{"uid":"6bb5fe6060b9edbf","status":"failed","statusDetails":"AssertionError: Статус-код 200\n{'token': 'z7KexLjI7SH9szD', 'user': ''}","time":{"start":1767097821877,"stop":1767097822173,"duration":296}},{"uid":"3bab3a7b3574841c","status":"failed","statusDetails":"AssertionError: Статус-код 200\n{'token': 'GplWybzuD3KwvTs', 'user': ''}","time":{"start":1767095595199,"stop":1767095595515,"duration":316}},{"uid":"732deb39a0e1868f","status":"failed","statusDetails":"AssertionError: Статус-код 200\n{'token': 'gqF7IKxFI23Is5K', 'user': ''}","time":{"start":1766832986901,"stop":1766832987173,"duration":272}},{"uid":"b67063bf21cd7446","status":"failed","statusDetails":"AssertionError: Статус-код 200\n{'token': 'EitGyTEnzuWrovm', 'user': ''}","time":{"start":1766669166228,"stop":1766669166566,"duration":338}},{"uid":"3ffd90f6a558b036","status":"failed","statusDetails":"AssertionError: Статус-код 200\n{'token': 'yDTYApakMImq2Aq', 'user': ''}","time":{"start":1766657865828,"stop":1766657866142,"duration":314}},{"uid":"8e482c028181e48d","status":"failed","statusDetails":"AssertionError: Статус-код 200\n{'token': 'OqkVblWhxC6OY1u', 'user': ''}","time":{"start":1766656006783,"stop":1766656007127,"duration":344}}]},"tags":["high"]},"source":"57d2980079d823c0.json","parameterValues":["RequestAuthorizationModel(name='')"]}