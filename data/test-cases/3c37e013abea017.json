{"uid":"3c37e013abea017","name":"Статус 400, если поле tags не список","fullName":"tests.test_memes_endpoints.TestMemesEndpoints#test_400_on_update_meme_with_invalid_tags_format","historyId":"44af810b76c01ec8aa47b688c05b9541","time":{"start":1766657877494,"stop":1766657877820,"duration":326},"status":"failed","statusMessage":"AssertionError: Статус-код 200\n{'id': '254', 'info': {'names': ['Timothy Wolfe', 'Luis Fowler', 'Connor Miller'], 'phone_numbers': ['9928000526', '(789)256-4413', '(340)209-4879x8073']}, 'tags': ['wert', 234.56], 'text': 'Professional order organization pattern great.\\nProduct machine security tend suffer.\\nCareer make marriage likely treatment ahead best. Region book to message.', 'updated_by': 'Aleksei Mishin', 'url': 'http://www.smith.com/'}","statusTrace":"self = <test_memes_endpoints.TestMemesEndpoints object at 0x7f220ea3b390>\npre_create_and_delete_meme = ResponseMemeModel(id=254, info={'colors': ['#00a862', '#dd0b4d'], 'names': ['Jessica Hanson', 'Christopher Olsen']}, t...il consider green. Drive tough argue practice bed.', updated_by='Aleksei Mishin', url='http://www.brown-stephens.biz/')\ntags = ('wert', 234.56)\n\n    @allure.feature('Изменение мема')\n    @allure.title('Статус 400, если поле tags не список')\n    @pytest.mark.medium\n    @pytest.mark.parametrize('tags', [1234, 463.465, 'this is string', ('wert', 234.56), {'key': 'value'}, None])\n    def test_400_on_update_meme_with_invalid_tags_format(self, pre_create_and_delete_meme, tags):\n        meme_id = pre_create_and_delete_meme.id\n        model = payload.update_meme(meme_id)\n        model.tags = tags\n    \n>       self.memes_api.update_meme_with_invalid_payload(meme_id, model)\n\ntests/test_memes_endpoints.py:73: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \napi_client/memes_api/memes_api.py:67: in update_meme_with_invalid_payload\n    self.base_assertions.check_status_code_is_400(resp)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nresponse = <Response [200]>\n\n    @staticmethod\n    def check_status_code_is_400(response):\n        with allure.step('Статус-код 400'):\n>           assert 400 == response.status_code, (f\"Статус-код {response.status_code}\\n\"\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n                                                 f\"{response.json()}\")\nE           AssertionError: Статус-код 200\nE           {'id': '254', 'info': {'names': ['Timothy Wolfe', 'Luis Fowler', 'Connor Miller'], 'phone_numbers': ['9928000526', '(789)256-4413', '(340)209-4879x8073']}, 'tags': ['wert', 234.56], 'text': 'Professional order organization pattern great.\\nProduct machine security tend suffer.\\nCareer make marriage likely treatment ahead best. Region book to message.', 'updated_by': 'Aleksei Mishin', 'url': 'http://www.smith.com/'}\n\nassertions/base_assertions.py:15: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":3,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1766657864373,"stop":1766657864375,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":false},{"name":"check_token","time":{"start":1766657864375,"stop":1766657864715,"duration":340},"status":"passed","steps":[{"name":"Проверка апи токена","time":{"start":1766657864375,"stop":1766657864715,"duration":340},"status":"passed","steps":[{"name":"Проверка состояния токена","time":{"start":1766657864375,"stop":1766657864714,"duration":339},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":1,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":2,"hasContent":true},{"name":"pre_create_and_delete_meme","time":{"start":1766657877141,"stop":1766657877494,"duration":353},"status":"passed","steps":[{"name":"Создать мем","time":{"start":1766657877141,"stop":1766657877493,"duration":352},"status":"passed","steps":[{"name":"Статус-код 200","time":{"start":1766657877493,"stop":1766657877493,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":false},{"name":"Проверка данных мема","time":{"start":1766657877493,"stop":1766657877493,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":false}],"attachments":[{"uid":"d46433aac0c1e375","name":"API Response","source":"d46433aac0c1e375.json","type":"application/json","size":478}],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":1,"attachmentStep":false,"stepsCount":2,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":1,"attachmentStep":false,"stepsCount":3,"hasContent":true},{"name":"_xunit_setup_method_fixture_TestMemesEndpoints","time":{"start":1766657877141,"stop":1766657877141,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: Статус-код 200\n{'id': '254', 'info': {'names': ['Timothy Wolfe', 'Luis Fowler', 'Connor Miller'], 'phone_numbers': ['9928000526', '(789)256-4413', '(340)209-4879x8073']}, 'tags': ['wert', 234.56], 'text': 'Professional order organization pattern great.\\nProduct machine security tend suffer.\\nCareer make marriage likely treatment ahead best. Region book to message.', 'updated_by': 'Aleksei Mishin', 'url': 'http://www.smith.com/'}","statusTrace":"self = <test_memes_endpoints.TestMemesEndpoints object at 0x7f220ea3b390>\npre_create_and_delete_meme = ResponseMemeModel(id=254, info={'colors': ['#00a862', '#dd0b4d'], 'names': ['Jessica Hanson', 'Christopher Olsen']}, t...il consider green. Drive tough argue practice bed.', updated_by='Aleksei Mishin', url='http://www.brown-stephens.biz/')\ntags = ('wert', 234.56)\n\n    @allure.feature('Изменение мема')\n    @allure.title('Статус 400, если поле tags не список')\n    @pytest.mark.medium\n    @pytest.mark.parametrize('tags', [1234, 463.465, 'this is string', ('wert', 234.56), {'key': 'value'}, None])\n    def test_400_on_update_meme_with_invalid_tags_format(self, pre_create_and_delete_meme, tags):\n        meme_id = pre_create_and_delete_meme.id\n        model = payload.update_meme(meme_id)\n        model.tags = tags\n    \n>       self.memes_api.update_meme_with_invalid_payload(meme_id, model)\n\ntests/test_memes_endpoints.py:73: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \napi_client/memes_api/memes_api.py:67: in update_meme_with_invalid_payload\n    self.base_assertions.check_status_code_is_400(resp)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nresponse = <Response [200]>\n\n    @staticmethod\n    def check_status_code_is_400(response):\n        with allure.step('Статус-код 400'):\n>           assert 400 == response.status_code, (f\"Статус-код {response.status_code}\\n\"\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n                                                 f\"{response.json()}\")\nE           AssertionError: Статус-код 200\nE           {'id': '254', 'info': {'names': ['Timothy Wolfe', 'Luis Fowler', 'Connor Miller'], 'phone_numbers': ['9928000526', '(789)256-4413', '(340)209-4879x8073']}, 'tags': ['wert', 234.56], 'text': 'Professional order organization pattern great.\\nProduct machine security tend suffer.\\nCareer make marriage likely treatment ahead best. Region book to message.', 'updated_by': 'Aleksei Mishin', 'url': 'http://www.smith.com/'}\n\nassertions/base_assertions.py:15: AssertionError","steps":[{"name":"Создать мем с невалидным пэйлоудом","time":{"start":1766657877496,"stop":1766657877820,"duration":324},"status":"failed","statusMessage":"AssertionError: Статус-код 200\n{'id': '254', 'info': {'names': ['Timothy Wolfe', 'Luis Fowler', 'Connor Miller'], 'phone_numbers': ['9928000526', '(789)256-4413', '(340)209-4879x8073']}, 'tags': ['wert', 234.56], 'text': 'Professional order organization pattern great.\\nProduct machine security tend suffer.\\nCareer make marriage likely treatment ahead best. Region book to message.', 'updated_by': 'Aleksei Mishin', 'url': 'http://www.smith.com/'}\n","statusTrace":"  File \"/usr/workspace/api_client/memes_api/memes_api.py\", line 67, in update_meme_with_invalid_payload\n    self.base_assertions.check_status_code_is_400(resp)\n  File \"/usr/workspace/assertions/base_assertions.py\", line 15, in check_status_code_is_400\n    assert 400 == response.status_code, (f\"Статус-код {response.status_code}\\n\"\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[{"name":"Статус-код 400","time":{"start":1766657877819,"stop":1766657877820,"duration":1},"status":"failed","statusMessage":"AssertionError: Статус-код 200\n{'id': '254', 'info': {'names': ['Timothy Wolfe', 'Luis Fowler', 'Connor Miller'], 'phone_numbers': ['9928000526', '(789)256-4413', '(340)209-4879x8073']}, 'tags': ['wert', 234.56], 'text': 'Professional order organization pattern great.\\nProduct machine security tend suffer.\\nCareer make marriage likely treatment ahead best. Region book to message.', 'updated_by': 'Aleksei Mishin', 'url': 'http://www.smith.com/'}\n","statusTrace":"  File \"/usr/workspace/assertions/base_assertions.py\", line 15, in check_status_code_is_400\n    assert 400 == response.status_code, (f\"Статус-код {response.status_code}\\n\"\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":1,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"attachmentsCount":0,"attachmentStep":false,"stepsCount":2,"hasContent":true},"afterStages":[{"name":"pre_create_and_delete_meme::0","time":{"start":1766657877828,"stop":1766657878165,"duration":337},"status":"passed","steps":[{"name":"Удалить мем с id: 254","time":{"start":1766657877828,"stop":1766657878165,"duration":337},"status":"passed","steps":[{"name":"Статус-код 200","time":{"start":1766657878164,"stop":1766657878164,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":false},{"name":"Отображается сообщение об успешном удалении мема","time":{"start":1766657878165,"stop":1766657878165,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":false}],"attachments":[{"uid":"d02fdecbb0f7381d","name":"API Response","source":"d02fdecbb0f7381d.json","type":"application/json","size":39}],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":1,"attachmentStep":false,"stepsCount":2,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":1,"attachmentStep":false,"stepsCount":3,"hasContent":true},{"name":"_xunit_setup_method_fixture_TestMemesEndpoints::0","time":{"start":1766657878165,"stop":1766657878165,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":false}],"labels":[{"name":"suite","value":"Мемы"},{"name":"story","value":"Эндпоинт тесты"},{"name":"feature","value":"Изменение мема"},{"name":"tag","value":"medium"},{"name":"parentSuite","value":"tests"},{"name":"subSuite","value":"TestMemesEndpoints"},{"name":"host","value":"e69444e30e92"},{"name":"thread","value":"15-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_memes_endpoints"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"tags","value":"('wert', 234.56)"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"c54e6071ae848bd6","status":"failed","statusDetails":"AssertionError: Статус-код 200\n{'id': '254', 'info': {'names': ['Kathy Obrien', 'Katie Wheeler', 'Mrs. Margaret Guerrero PhD'], 'phone_numbers': ['+1-687-375-2844x547', '001-635-421-3975x219', '242-887-5461']}, 'tags': ['wert', 234.56], 'text': 'Tonight yard third bed agreement. Chair right represent maybe treat law movement. Professor matter rule time.\\nCell artist than recent camera receive raise agent. High full per sing carry thus.', 'updated_by': 'Aleksei Mishin', 'url': 'https://johnson.org/'}","time":{"start":1766657876487,"stop":1766657876807,"duration":320}},{"uid":"40c515e710b46af4","status":"failed","statusDetails":"AssertionError: Статус-код 200\n{'id': '254', 'info': {'names': ['Victoria Turner', 'Penny Martin', 'Jared Young'], 'phone_numbers': ['634.755.3427', '001-560-830-1060x3886', '906.921.9900x556']}, 'tags': ['wert', 234.56], 'text': 'Budget know our population wind. Teach inside everybody plan. Left charge public be. Improve general someone state expert collection run.\\nTalk discover water. Here power necessary positive.', 'updated_by': 'Aleksei Mishin', 'url': 'http://www.watkins.com/'}","time":{"start":1766657875503,"stop":1766657875823,"duration":320}},{"uid":"f83975cc528cb130","status":"failed","statusDetails":"AssertionError: Статус-код 200\n{'id': '281', 'info': {'names': ['Traci Wood', 'Melanie Mathis', 'Matthew Tucker'], 'phone_numbers': ['(711)507-7927', '657.819.6172x82737', '(315)788-9787']}, 'tags': ['wert', 234.56], 'text': 'Win relate despite in system religious debate. None person light board interesting add. Space city fill huge imagine.', 'updated_by': 'Aleksei Mishin', 'url': 'http://vasquez.com/'}","time":{"start":1766657874512,"stop":1766657874831,"duration":319}}],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":2,"broken":0,"skipped":0,"passed":0,"unknown":0,"total":2},"items":[{"uid":"7ba9435f998006ac","status":"failed","statusDetails":"AssertionError: Статус-код 200\n{'id': '261', 'info': {'names': ['Janice Curtis', 'Debbie Sawyer', 'Morgan Mcdonald'], 'phone_numbers': ['871.351.8196x16145', '(543)561-3204x85174', '001-357-708-9506x011']}, 'tags': ['wert', 234.56], 'text': 'Order attorney necessary place personal in. Determine dog site all.\\nChurch ready lawyer. Such official practice particularly today necessary.', 'updated_by': 'Aleksei Mishin', 'url': 'https://odonnell.com/'}","time":{"start":1766656015739,"stop":1766656016030,"duration":291}}]},"tags":["medium"]},"source":"3c37e013abea017.json","parameterValues":["('wert', 234.56)"]}